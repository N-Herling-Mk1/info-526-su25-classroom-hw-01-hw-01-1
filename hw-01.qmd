---
title: "HW 01"
author: "Nathan Herling"
due date: "Friday-May-27-2025"
format: 
  html:
    embed-resources: true
toc: true
---

## 0 - Setup

```{r setup, echo=FALSE}
if (!require("pacman")) 
  install.packages("pacman")

# use this line for installing/loading
# pacman::p_load()
# - packages to load stored in a variable (vector)
pkgs <- c("tidyverse","glue","scales","lubricate")
pacman::p_load(char=pkgs)

# - install tidyverse/dsbox directly from Git Hub
devtools::install_github("tidyverse/dsbox")
# - alert to user packages loaded.
cat(paste(
  "The packages loaded:",
  paste("-", pkgs, collapse = "\n"),
  sep = "\n"
))
###############################################################################
######################
# Basic set Theme up #
######################
# set theme for ggplot2
ggplot2::theme_set(ggplot2::theme_minimal(base_size = 14))

# set width of code output
options(width = 65)

# set figure parameters for knitr
knitr::opts_chunk$set(
  fig.width = 7,        # 7" width
  fig.asp = 0.618,      # the golden ratio
  fig.retina = 3,       # dpi multiplier for displaying HTML output on retina
  fig.align = "center", # center align figures
  dpi = 300             # higher dpi, sharper image
)
#####################################################################################
```

## 1 - Road traffic accidents in Edinburgh

```{r label-me-1, echo=FALSE}
#.csv file input
accidents <- read_csv("data/accidents.csv", show_col_types = FALSE) 

#------- Data Preparation ----
# - create a new dataframe/tibble
accidents_v2 <- accidents[c("day_of_week", "time", "severity")]
accidents_v2 <- accidents[c("day_of_week", "time", "severity")]
accidents_v2 <- accidents_v2 |>
  group_by(day_of_week) |>
  mutate(is_weekend = case_when(
    day_of_week %in% c("Saturday", "Sunday") ~ "Weekend",
    TRUE ~ "Weekday"
  ))

view(accidents_v2)

#set up the color schme
color_scheme <- c("Fatal"="#aa93b0","Serious"= "#9ecac8", "Slight"="#fef39f")


#-create the 'gg' plot...
g_1 <- ggplot(accidents_v2, aes(x=time, group=severity, fill=severity))
g_1 <- g_1 + geom_density(alpha=0.7)  + facet_wrap(~is_weekend, nrow=2)
g_1 <- g_1 + 
  labs(x="Time of day", 
       y="Density", 
       title="Number of accidents throughout the day", 
       subtitle="By day of week and severity") +  
  scale_fill_manual("severity", name="Severity", 
                    values = color_scheme)

#print(g_1)
g_1

```

## 2 - NYC marathon winners

```{r label-me-2}

```

## 3 - US counties

## 4 - Rental apartments in SF

## 5 - Napoleonâ€™s march.
